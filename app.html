<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Aryaa üíò</title>
  <style>
    :root{
      --bg1:#0f1020; --bg2:#1a1440; --card:#14162b;
      --text:#f6f6ff; --muted:#b8b8d6; --accent:#ff4d8d; --accent2:#7c5cff;
      --good:#39d98a; --bad:#ff5c5c;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(1200px 700px at 20% 10%, #2a1b6b 0%, transparent 60%),
                  radial-gradient(900px 600px at 90% 30%, #7a1d4f 0%, transparent 55%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }
    .stars::before, .stars::after{
      content:""; position:fixed; inset:-200px; background-repeat:repeat;
      opacity:.25; pointer-events:none; mix-blend-mode:screen;
      background-image:
        radial-gradient(2px 2px at 20px 30px, #fff, transparent 60%),
        radial-gradient(1px 1px at 70px 90px, #fff, transparent 60%),
        radial-gradient(1px 1px at 110px 50px, #fff, transparent 60%),
        radial-gradient(2px 2px at 160px 120px, #fff, transparent 60%),
        radial-gradient(1px 1px at 220px 80px, #fff, transparent 60%);
      transform:translateZ(0);
      animation: drift 18s linear infinite;
    }
    .stars::after{ opacity:.15; animation-duration:28s; filter:blur(.5px); }
    @keyframes drift { from{transform:translateY(0)} to{transform:translateY(200px)} }

    .wrap{width:min(720px, 92vw); position:relative; z-index:2;}
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      border-radius:22px;
      padding:22px 18px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
    }
    header{
      display:flex; align-items:center; justify-content:space-between; gap:14px; margin-bottom:14px;
    }
    .title{
      font-weight:800; letter-spacing:.2px; font-size: clamp(18px, 3.6vw, 26px);
      display:flex; align-items:center; gap:10px;
    }
    .pill{
      font-size:12px; padding:6px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--muted);
      white-space:nowrap;
    }
    .sub{color:var(--muted); margin:0 0 16px 0; line-height:1.45}
    .grid{display:grid; gap:12px}
    .step{
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:14px;
      background: rgba(10,12,24,.35);
    }
    .step h3{margin:0 0 8px 0; font-size:15px}
    .step p{margin:0 0 10px 0; color:var(--muted); font-size:13px; line-height:1.45}
    .row{display:flex; gap:10px; flex-wrap:wrap}
    input{
      flex:1 1 180px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:12px 12px;
      outline:none;
    }
    input:focus{border-color: rgba(255,77,141,.6); box-shadow:0 0 0 3px rgba(255,77,141,.15)}
    button{
      border:0;
      border-radius:12px;
      padding:12px 14px;
      font-weight:700;
      cursor:pointer;
      color:#0b0b12;
      background: linear-gradient(135deg, var(--accent), #ff7aa8);
      transition: transform .08s ease, filter .2s ease;
      user-select:none;
    }
    button:active{transform: translateY(1px) scale(.99)}
    button.secondary{
      background: rgba(255,255,255,.10);
      color:var(--text);
      border:1px solid rgba(255,255,255,.14);
    }
    .status{
      margin-top:10px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:8px;
      min-height:18px;
    }
    .dot{width:10px; height:10px; border-radius:50%}
    .dot.good{background:var(--good)}
    .dot.bad{background:var(--bad)}
    .dot.wait{background:#ffd166}
    .lockbar{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 14px;
      border-radius:16px;
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.04);
    }
    .progress{
      width:100%; height:10px; border-radius:999px; overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    .bar{
      height:100%; width:0%;
      background: linear-gradient(90deg, var(--accent2), var(--accent));
      transition: width .35s ease;
    }
    .tiny{font-size:12px; color:var(--muted)}
    .hidden{display:none !important}

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:grid; place-items:center;
      background: rgba(0,0,0,.55);
      z-index:10;
      padding:20px;
    }
    .modal .box{
      width:min(720px, 92vw);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.14);
      border-radius:24px;
      padding:22px 18px;
      backdrop-filter: blur(10px);
      position:relative;
      overflow:hidden;
    }
    .heartbg{
      position:absolute; inset:-40px;
      opacity:.18; filter: blur(0px);
      background:
        radial-gradient(circle at 30% 35%, rgba(255,77,141,.55), transparent 55%),
        radial-gradient(circle at 70% 30%, rgba(124,92,255,.55), transparent 55%),
        radial-gradient(circle at 50% 80%, rgba(255,255,255,.18), transparent 60%);
      pointer-events:none;
    }
    .ask{
      position:relative;
      text-align:center;
      padding:8px 8px 2px;
    }
    .ask h1{
      margin:0 0 8px;
      font-size: clamp(22px, 4.8vw, 38px);
      letter-spacing:.2px;
    }
    .ask p{margin:0 0 16px; color:var(--muted); line-height:1.45}
    .btns{
      position:relative;
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
      padding-bottom:8px;
    }
    .btns button{
      min-width:140px;
      font-size:16px;
      padding:12px 18px;
    }
    #noBtn{
      background: rgba(255,255,255,.10);
      color:var(--text);
      border:1px solid rgba(255,255,255,.16);
      position:relative;
    }
    .note{
      text-align:center;
      color:var(--muted);
      font-size:12px;
      margin-top:8px;
    }

    /* Confetti canvas */
    canvas#confetti{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:20;
    }
    footer{
      margin-top:12px;
      text-align:center;
      color:rgba(255,255,255,.45);
      font-size:12px;
    }
    .name{
      color:#fff;
      font-weight:800;
      background: linear-gradient(90deg, #fff, #ffd1e2);
      -webkit-background-clip:text;
      background-clip:text;
      -webkit-text-fill-color:transparent;
    }
  </style>
</head>
<body>
  <div class="stars"></div>
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="card">
      <header>
        <div class="title">üíå A tiny game for <span class="name">Aryaa</span></div>
        <div class="pill">Solve 3 mini puzzles</div>
      </header>
      <p class="sub">
        Hi Aryaa üòä<br/>
        If you can unlock all three, something special will appear.
      </p>

      <div class="grid">
        <div class="step" id="step1">
          <h3>1) Warm-up</h3>
          <p>Type the answer: <b>3 + 4 + 5 = ?</b></p>
          <div class="row">
            <input id="a1" inputmode="numeric" placeholder="Your answer..." />
            <button onclick="check(1)">Check</button>
          </div>
          <div class="status" id="s1"></div>
        </div>

        <div class="step" id="step2">
          <h3>2) Little riddle</h3>
          <p>What has hands but can‚Äôt clap? (one word)</p>
          <div class="row">
            <input id="a2" placeholder="Your answer..." />
            <button onclick="check(2)">Check</button>
          </div>
          <div class="status" id="s2"></div>
        </div>

        <div class="step" id="step3">
          <h3>3) Secret code</h3>
          <p>Unscramble this into a word: <b>ETANVILE</b></p>
          <div class="row">
            <input id="a3" placeholder="Your answer..." />
            <button onclick="check(3)">Check</button>
          </div>
          <div class="status" id="s3"></div>
        </div>

        <div class="lockbar">
          <div style="flex:1">
            <div class="tiny">Unlock progress</div>
            <div class="progress" aria-label="progress">
              <div class="bar" id="bar"></div>
            </div>
          </div>
          <button class="secondary" onclick="resetAll()">Reset</button>
        </div>
      </div>

      <footer>Made with üíñ</footer>
    </div>
  </div>

  <!-- Valentine modal -->
  <div class="modal hidden" id="modal">
    <div class="box">
      <div class="heartbg"></div>
      <div class="ask">
        <h1>Aryaa, will you be my Valentine? üíò</h1>
        <p>I promise extra hugs, extra laughs, and a very happy us.</p>

        <div class="btns" id="btnArea">
          <button id="yesBtn">Yes üíû</button>
          <button id="noBtn">No üôÉ</button>
        </div>
        <div class="note">(Try pressing ‚ÄúNo‚Äù if you dare üòå)</div>
      </div>
    </div>
  </div>

  <script>
    // ‚úÖ Correct answers (edit if you want different puzzles)
    const answers = {
      1: ["12"],
      2: ["clock"],
      3: ["valentine"]
    };

    const solved = {1:false, 2:false, 3:false};

    function norm(s){ return (s||"").trim().toLowerCase(); }

    function setStatus(n, ok, msg){
      const el = document.getElementById("s"+n);
      el.innerHTML = "";
      const dot = document.createElement("span");
      dot.className = "dot " + (ok ? "good" : "bad");
      el.appendChild(dot);
      const t = document.createElement("span");
      t.textContent = msg;
      el.appendChild(t);
    }

    function updateBar(){
      const count = Object.values(solved).filter(Boolean).length;
      document.getElementById("bar").style.width = (count/3*100) + "%";
      if(count === 3) openModal();
    }

    function check(n){
      const input = document.getElementById("a"+n);
      const val = norm(input.value);

      if(!val){
        const el = document.getElementById("s"+n);
        el.innerHTML = `<span class="dot wait"></span><span>Type something üòÑ</span>`;
        return;
      }

      if(answers[n].includes(val)){
        solved[n] = true;
        input.disabled = true;
        setStatus(n, true, "Correct! ‚úÖ");
        updateBar();
      } else {
        setStatus(n, false, "Not quite ‚Äî try again üëÄ");
        input.focus();
        input.select();
      }
    }

    function resetAll(){
      [1,2,3].forEach(n=>{
        solved[n] = false;
        const input = document.getElementById("a"+n);
        input.disabled = false;
        input.value = "";
        document.getElementById("s"+n).innerHTML = "";
      });
      document.getElementById("bar").style.width = "0%";
      closeModal();
      stopConfetti();
    }

    // Modal controls
    const modal = document.getElementById("modal");
    function openModal(){ modal.classList.remove("hidden"); }
    function closeModal(){ modal.classList.add("hidden"); }

    // Runaway "No" button (moves within button area)
    const noBtn = document.getElementById("noBtn");
    const btnArea = document.getElementById("btnArea");

    function moveNo(){
      const area = btnArea.getBoundingClientRect();
      const btn = noBtn.getBoundingClientRect();

      const maxX = Math.max(0, area.width - btn.width);
      const maxY = Math.max(0, area.height - btn.height);

      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      noBtn.style.position = "absolute";
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    // Trigger runaway on hover/tap
    noBtn.addEventListener("mouseenter", moveNo);
    noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNo(); }, {passive:false});
    noBtn.addEventListener("click", (e)=>{ e.preventDefault(); moveNo(); });

    // YES action
    document.getElementById("yesBtn").addEventListener("click", ()=>{
      burstConfetti();
      document.querySelector(".ask p").textContent =
        "YAYYY üíñ Screenshot this and send it to me üòö";
      document.querySelector(".note").textContent =
        "Officially locked in. No take-backs üòå";
      noBtn.style.display = "none";
    });

    // Confetti (tiny canvas)
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let confetti = [];
    let anim = null;

    function resize(){
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    function burstConfetti(){
      const count = 220;
      confetti = [];
      for(let i=0;i<count;i++){
        confetti.push({
          x: window.innerWidth/2,
          y: window.innerHeight/2,
          vx: (Math.random()-0.5)*10,
          vy: (Math.random()-0.8)*12,
          g: 0.22 + Math.random()*0.08,
          s: 4 + Math.random()*5,
          r: Math.random()*Math.PI,
          vr: (Math.random()-0.5)*0.2,
          a: 1
        });
      }
      if(!anim) animateConfetti();
    }

    function animateConfetti(){
      anim = requestAnimationFrame(animateConfetti);
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);

      confetti.forEach(p=>{
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.r += p.vr;
        p.a -= 0.004;

        ctx.save();
        ctx.globalAlpha = Math.max(0, p.a);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.r);

        // color blend without hardcoding specific palettes
        const grad = ctx.createLinearGradient(-p.s, -p.s, p.s, p.s);
        grad.addColorStop(0, "rgba(255,77,141,1)");
        grad.addColorStop(1, "rgba(124,92,255,1)");
        ctx.fillStyle = grad;

        ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s*0.8);
        ctx.restore();
      });

      confetti = confetti.filter(p => p.a > 0 && p.y < window.innerHeight + 60);
      if(confetti.length === 0) stopConfetti();
    }

    function stopConfetti(){
      if(anim){
        cancelAnimationFrame(anim);
        anim = null;
        ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
      }
    }

    // Nice UX: Enter key checks current step
    ["a1","a2","a3"].forEach((id, idx)=>{
      document.getElementById(id).addEventListener("keydown",(e)=>{
        if(e.key === "Enter") check(idx+1);
      });
    });
  </script>
</body>
</html>